<?xml version="1.0" encoding="utf-8"?>
<configs>
  <append xpath="/blocks">
    <block name="WorkingOven">
      <property name="Class" value="Campfire"/>
      <property name="Material" value="Mmetal"/>
      <property name="MaxDamage" value="100"/>
      <property name="StabilitySupport" value="true"/>
      <property name="CustomIcon" value="cntWallOven"/>   
      <property name="Texture" value="346,345,341,345,262,345"/>
      <property name="ImposterDontBlock" value="true"/>
      <property name="Collide" value="movement,melee,bullet,arrow,rocket"/>
      <property name="IsTerrainDecoration" value="true"/>
      <property name="ParticleName" value="campfire"/>
      <property name="ParticleOffset" value="0.5,0,0.5"/>
      <property name="Stacknumber" value="1"/>
      <property name="HeatMapStrength" value="1.5"/>
      <property name="HeatMapTime" value="1200"/>
      <property name="HeatMapFrequency" value="25"/>
      <property name="BuffsWhenWalkedOn" value="buffBurningEnvironment"/>
      <property name="ActiveRadiusEffects" value="buffCampfireAOE(3)"/>

      <property class="Workstation">
        <property name="Modules" value="tools,output,fuel,input"/>
        <property name="Collide" value="melee,bullet,arrow,rocket"/>
        <property name="CraftingAreaRecipes" value="campfire"/> 
      </property>
      <property name="WorkstationIcon" value="ui_game_symbol_campfire" />
      <property name="CraftActionName" value="lblContextActionCook" />
      <property name="CraftIcon" value="ui_game_symbol_spatula" />
      <property name="OpenSound" value="campfire_open" />
      <property name="CloseSound" value="campfire_close" />
      <property name="CraftSound" value="campfire_cook_click" />
      <property name="CraftCompleteSound" value="campfire_complete_item" />
      <property name="WorkstationJournalTip" value="campfireTip" />

      <property class="RepairItems">
        <property name="resourceScrapIron" value="8"/>
      </property>
      
      <drop event="Harvest" name="terrStone" count="0" tool_category="Disassemble"/>
      <drop event="Harvest" name="resourceMechanicalParts" count="1,3" tag="salvageHarvest"/>
      <drop event="Harvest" name="resourceMetalPipe" count="0,1" tag="salvageHarvest"/>
      <drop event="Harvest" name="resourceScrapIron" count="4,8" tag="salvageHarvest"/>
      <drop event="Destroy" name="resourceScrapIron" count="4,8" prob="1"/>
      <drop event="Fall" name="scrapMetalPile" count="1" prob="0.75" stick_chance="1"/>
      
      <property name="Group" value="Food/Cooking,Basics,Building"/>
      <property name="DescriptionKey" value="campfireDesc"/>
      <property name="EconomicValue" value="5"/>
      <property name="EconomicBundleSize" value="1"/>
      <property name="SellableToTrader" value="false"/>
      <property name="FilterTags" value="fdecor,fother,ffurniture"/>
      <property name="SortOrder1" value="70i0"/>
    </block>
  </append>

  <!-- Bed buffs -->
  <append xpath="blocks/block[@name='bedroll']">
    <property name="BuffsWhenWalkedOn" value="Sleeping2"/>
  </append>
  <append xpath="blocks/block[@name='bed01']">
    <property name="BuffsWhenWalkedOn" value="Sleeping2"/>
  </append>
  <append xpath="blocks/block[@name='bed02']">
    <property name="BuffsWhenWalkedOn" value="Sleeping2"/>
  </append>

  <!-- Crushed cars are still cars -->
  <append xpath="/blocks/block[@name='crushedCars']">
    <drop event="Harvest" name="terrStone" count="0" tool_category="Disassemble"/>
    <drop event="Harvest" name="resourceLeather" count="2,7" tag="allHarvest"/>
    <drop event="Harvest" name="resourceCloth" count="4,12" tag="allHarvest"/>
    <drop event="Harvest" name="resourceScrapIron" count="50" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceElectricParts" count="0,3" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceMechanicalParts" count="0,5" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceRadiator" count="1,1" prob="0.5" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceSpring" count="2,4" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceMetalPipe" count="10" prob="0.5" tag="salvageHarvest"/>
    <drop event="Harvest" name="resourceScrapPolymers" count="5,12" tag="salvageHarvest"/>
  </append>

  <!-- Tree mods for bonus wood and the chance of a birds nest within the tree -->
  <append xpath="/blocks/block[starts-with (@name,'treeOak')]">  
    <drop event="Destroy" name="resourceWood" count="40" tag="oreWoodDestroy"/>
    <drop event="Destroy" name="resourceFeather" count="1,5" prob="0.25"/>
    <drop event="Destroy" name="foodEgg" count="1,2" prob="0.1"/>
  </append>

  <append xpath="/blocks/block[starts-with (@name,'treeMountain')]">  
    <drop event="Destroy" name="resourceWood" count="40" tag="oreWoodDestroy"/>
    <drop event="Destroy" name="resourceFeather" count="2,10" prob="0.3"/>
    <drop event="Destroy" name="foodEgg" count="1,3" prob="0.15"/>
  </append>
  
  <append xpath="/blocks/block[starts-with (@name,'treeWinter')]">  
    <drop event="Destroy" name="resourceWood" count="40" tag="oreWoodDestroy"/>
    <drop event="Destroy" name="resourceFeather" count="1,3" prob="0.2"/>
    <drop event="Destroy" name="foodEgg" count="1" prob="0.1"/>
  </append>
</configs>